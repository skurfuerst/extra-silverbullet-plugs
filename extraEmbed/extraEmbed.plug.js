var mod=(()=>{var l=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var R=Object.prototype.hasOwnProperty;var E=(e,t)=>{for(var r in t)l(e,r,{get:t[r],enumerable:!0})},S=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of x(t))!R.call(e,n)&&n!==r&&l(e,n,{get:()=>t[n],enumerable:!(s=w(t,n))||s.enumerable});return e};var v=e=>S(l({},"__esModule",{value:!0}),e);var C={};E(C,{functionMapping:()=>f});typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var p=new Map,d=0;function i(e){self.postMessage(e)}self.syscall=async(e,...t)=>await new Promise((r,s)=>{d++,p.set(d,{resolve:r,reject:s}),i({type:"sys",id:d,name:e,args:t})});function g(e,t){self.addEventListener("message",r=>{(async()=>{let s=r.data;switch(s.type){case"inv":{let n=e[s.name];if(!n)throw new Error(`Function not loaded: ${s.name}`);try{let o=await Promise.resolve(n(...s.args||[]));i({type:"invr",id:s.id,result:o})}catch(o){console.error("An exception was thrown as a result of invoking function",s.name,"error:",o),i({type:"invr",id:s.id,error:o.message})}}break;case"sysr":{let n=s.id,o=p.get(n);if(!o)throw Error("Invalid request id");p.delete(n),s.error?o.reject(new Error(s.error)):o.resolve(s.result)}break}})().catch(console.error)}),i({type:"manifest",manifest:t})}function M(e){let t=atob(e),r=t.length,s=new Uint8Array(r);for(let n=0;n<r;n++)s[n]=t.charCodeAt(n);return s}function y(e){typeof e=="string"&&(e=new TextEncoder().encode(e));let t="",r=e.byteLength;for(let s=0;s<r;s++)t+=String.fromCharCode(e[s]);return btoa(t)}async function P(e,t){if(typeof e!="string"){let r=new Uint8Array(await e.arrayBuffer()),s=r.length>0?y(r):void 0;t={method:e.method,headers:Object.fromEntries(e.headers.entries()),base64Body:s},e=e.url}return syscall("sandboxFetch.fetch",e,t)}function k(){globalThis.nativeFetch=globalThis.fetch,globalThis.fetch=async function(e,t){let r=t&&t.body?y(new Uint8Array(await new Response(t.body).arrayBuffer())):void 0,s=await P(e,t&&{method:t.method,headers:t.headers,base64Body:r});return new Response(s.base64Body?M(s.base64Body):null,{status:s.status,headers:s.headers})}}k();function F(e){let t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/<script.*?src=["'](.*?)["'].*?>.*?<\/script>/i,s=/<script\b[^>]*>([\s\S]*?)<\/script>/i,n,o=[],h=[];for(;(n=t.exec(e))!==null;){let m=n[0],c=r.exec(m);if(c&&c[1])h.push(c[1]);else{let a=s.exec(m);a&&a[1]&&o.push(a[1].trim())}}let b=e.replace(t,"");return{inlineScripts:o,scriptSrcs:h,htmlWithoutScripts:b}}async function u(e){let t=F(e),s=`Promise.all([${t.scriptSrcs.map(n=>`loadJsByUrl(${JSON.stringify(n)})`).join(", ")}]).then(() => {
        if (window.tailwind && window.tailwind.config) {
          window.tailwind.config["hack_force_refresh"] = (new Date()).getTime();
        }
      });`+t.inlineScripts.join(";");return{html:t.htmlWithoutScripts,script:s}}var f={htmlEmbed:u},B={name:"extraEmbed",functions:{htmlEmbed:{path:"./src/htmlEmbed.ts:htmlEmbed",codeWidget:"htmlembed"}},assets:{}};g(f,B);return v(C);})();
